<!DOCTYPE html>
<html lang="az">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
Â  Â  <title>ğŸ’£ Emoji Kart Bomb 1v1</title>
Â  Â  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
Â  Â Â 
Â  Â  <script src="https://cdn.tailwindcss.com"></script>
Â  Â  <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
Â  Â Â 
Â  Â  <style>
Â  Â  Â  Â  /* === KENDÄ° OYUNUNUZDAN ALINAN CSS STÄ°LLERÄ° VE MOBÄ°L UYUM === */
Â  Â  Â  Â Â 
Â  Â  Â  Â  :root {
Â  Â  Â  Â  Â  Â  --primary-color: #3498db;
Â  Â  Â  Â  Â  Â  --secondary-color: #2980b9;
Â  Â  Â  Â  Â  Â  --success-color: #2ecc71;
Â  Â  Â  Â  Â  Â  --danger-color: #e74c3c;
Â  Â  Â  Â  Â  Â  --text-color: #2c3e50;
Â  Â  Â  Â  Â  Â  --bg-color: #ecf0f1;
Â  Â  Â  Â  Â  Â  --card-bg: white;
Â  Â  Â  Â  Â  Â  --shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  * {
Â  Â  Â  Â  Â  Â  -webkit-tap-highlight-color: transparent;
Â  Â  Â  Â  Â  Â  box-sizing: border-box; /* TÃ¼m elementler iÃ§in box-sizing */
Â  Â  Â  Â  }
Â  Â  Â  Â  html, body {
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  overflow: hidden; /* Tam ekran iÃ§in kaydÄ±rmayÄ± engelle */
Â  Â  Â  Â  Â  Â  font-family: 'Inter', sans-serif; /* Daha modern bir font */
Â  Â  Â  Â  Â  Â  -webkit-font-smoothing: antialiased;
Â  Â  Â  Â  Â  Â  -moz-osx-font-smoothing: grayscale;
Â  Â  Â  Â  }

Â  Â  Â  Â  body {Â 
Â  Â  Â  Â  Â  Â  background-color: #1a202c; /* Koyu arka plan */
Â  Â  Â  Â  Â  Â  color: #e2e8f0; /* AÃ§Ä±k metin rengi */
Â  Â  Â  Â  Â  Â  display: flex;Â 
Â  Â  Â  Â  Â  Â  align-items: center;Â 
Â  Â  Â  Â  Â  Â  justify-content: center;Â 
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s;Â 
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Ana Ekran DÃ¼zeni */
Â  Â  Â  Â  .screen {Â 
Â  Â  Â  Â  Â  Â  width: 100%;Â 
Â  Â  Â  Â  Â  Â  height: 100%; /* Tam ekran yÃ¼ksekliÄŸi */
Â  Â  Â  Â  Â  Â  max-width: none; /* Max geniÅŸliÄŸi kaldÄ±r */
Â  Â  Â  Â  Â  Â  max-height: none; /* Max yÃ¼ksekliÄŸi kaldÄ±r */
Â  Â  Â  Â  Â  Â  display: none;Â 
Â  Â  Â  Â  Â  Â  flex-direction: column;Â 
Â  Â  Â  Â  Â  Â  align-items: center;Â 
Â  Â  Â  Â  Â  Â  justify-content: center; /* Ä°Ã§eriÄŸi dikeyde ortala */
Â  Â  Â  Â  Â  Â  padding: 1.5rem;Â 
Â  Â  Â  Â  Â  Â  box-sizing: border-box;Â 
Â  Â  Â  Â  Â  Â  text-align: center;Â 
Â  Â  Â  Â  Â  Â  background-color: #2d3748; /* EkranlarÄ±n arka planÄ± */
Â  Â  Â  Â  Â  Â  border-radius: 0; /* KÃ¶ÅŸeleri sÄ±fÄ±rla */
Â  Â  Â  Â  Â  Â  box-shadow: none; /* GÃ¶lgeyi kaldÄ±r (tam ekranda gerek yok) */
Â  Â  Â  Â  Â  Â  transition: background-color 0.3s;Â 
Â  Â  Â  Â  Â  Â  overflow-y: auto; /* Ä°Ã§erik taÅŸarsa kaydÄ±rÄ±labilir olsun */
Â  Â  Â  Â  Â  Â  -webkit-overflow-scrolling: touch; /* iOS'ta yumuÅŸak kaydÄ±rma */
Â  Â  Â  Â  }
Â  Â  Â  Â  .screen.active {Â 
Â  Â  Â  Â  Â  Â  display: flex;Â 
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Language Selector */
Â  Â  Â  Â  .language-selector {
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  top: env(safe-area-inset-top, 15px); /* GÃ¼venli alanlarÄ± destekle */
Â  Â  Â  Â  Â  Â  right: env(safe-area-inset-right, 15px);
Â  Â  Â  Â  Â  Â  z-index: 100;
Â  Â  Â  Â  }
Â  Â  Â  Â  .language-button {
Â  Â  Â  Â  Â  Â  background: rgba(255, 255, 255, 0.2); /* Hafif ÅŸeffaf */
Â  Â  Â  Â  Â  Â  border: 2px solid #63b3ed; /* Daha belirgin kenarlÄ±k */
Â  Â  Â  Â  Â  Â  border-radius: 25px; /* Daha yuvarlak */
Â  Â  Â  Â  Â  Â  padding: 8px 18px; /* Daha geniÅŸ padding */
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  color: #e2e8f0;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
Â  Â  Â  Â  Â  Â  transition: all 0.2s;
Â  Â  Â  Â  Â  Â  backdrop-filter: blur(5px); /* Arka plan bulanÄ±klÄ±ÄŸÄ± */
Â  Â  Â  Â  }
Â  Â  Â  Â  .language-button:hover {
Â  Â  Â  Â  Â  Â  background: rgba(255, 255, 255, 0.3);
Â  Â  Â  Â  }
Â  Â  Â  Â  .language-options {
Â  Â  Â  Â  Â  Â  display: none;
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  top: 100%;
Â  Â  Â  Â  Â  Â  right: 0;
Â  Â  Â  Â  Â  Â  background: #2d3748; /* Koyu arka plan */
Â  Â  Â  Â  Â  Â  border: 1px solid #4a5568;
Â  Â  Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  Â  Â  margin-top: 8px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 5px 15px rgba(0,0,0,0.4);
Â  Â  Â  Â  Â  Â  overflow: hidden;
Â  Â  Â  Â  Â  Â  z-index: 101;
Â  Â  Â  Â  Â  Â  min-width: 180px;
Â  Â  Â  Â  Â  Â  color: #e2e8f0;
Â  Â  Â  Â  }
Â  Â  Â  Â  .language-option {
Â  Â  Â  Â  Â  Â  padding: 10px 20px;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 10px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .language-option:hover {
Â  Â  Â  Â  Â  Â  background: #4a5568;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Utility */
Â  Â  Â  Â  .btn {Â 
Â  Â  Â  Â  Â  Â  @apply w-full text-xl font-bold py-4 px-6 rounded-2xl shadow-xl transition-all duration-200 ease-in-out;Â 
Â  Â  Â  Â  Â  Â  letter-spacing: 0.05em; /* Harf aralÄ±ÄŸÄ± */
Â  Â  Â  Â  }
Â  Â  Â  Â  .btn-primary {Â 
Â  Â  Â  Â  Â  Â  @apply bg-blue-600 text-white hover:bg-blue-500 active:scale-98;Â 
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #4299e1, #63b3ed); /* Gradient */
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  }
Â  Â  Â  Â  .btn-primary:hover {
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 20px rgba(66, 153, 225, 0.6);
Â  Â  Â  Â  }
Â  Â  Â  Â  .input-field {Â 
Â  Â  Â  Â  Â  Â  /* KullanÄ±cÄ± AdÄ± ve Oda Kodu iÃ§in koyu arka plan stili */
Â  Â  Â  Â  Â  Â  @apply w-full text-lg bg-black text-white border-2 border-gray-600 rounded-xl p-4 text-center placeholder-gray-400 focus:outline-none focus:border-blue-500;Â 
            /* bg-gray-700 yerine bg-black (siyah) kullanÄ±ldÄ±. */
Â  Â  Â  Â  Â  Â  box-shadow: inset 0 2px 5px rgba(0,0,0,0.2); /* Ä°Ã§ gÃ¶lge */
Â  Â  Â  Â  Â  Â  transition: border-color 0.2s, box-shadow 0.2s;
Â  Â  Â  Â  }
Â  Â  Â  Â  .input-field:focus {
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.5), inset 0 2px 5px rgba(0,0,0,0.2);
Â  Â  Â  Â  }

Â  Â  Â  Â  .code-display {Â 
Â  Â  Â  Â  Â  Â  @apply text-5xl font-extrabold p-5 bg-gray-800 text-yellow-300 rounded-xl tracking-widest;Â 
Â  Â  Â  Â  Â  Â  letter-spacing: 0.15em;
Â  Â  Â  Â  Â  Â  text-shadow: 0 2px 5px rgba(0,0,0,0.5);
Â  Â  Â  Â  Â  Â  font-family: 'Chakra Petch', monospace; /* Daha teknolojik bir font */
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Global Mesaj */
Â  Â  Â  Â  #globalMessage.show {Â 
Â  Â  Â  Â  Â  Â  display: block;Â 
Â  Â  Â  Â  Â  Â  position: fixed;Â 
Â  Â  Â  Â  Â  Â  top: env(safe-area-inset-top, 20px);Â 
Â  Â  Â  Â  Â  Â  left: 50%;Â 
Â  Â  Â  Â  Â  Â  transform: translateX(-50%);Â 
Â  Â  Â  Â  Â  Â  z-index: 50;Â 
Â  Â  Â  Â  Â  Â  animation: fadeInDown 0.3s ease-out;Â 
Â  Â  Â  Â  Â  Â  width: 90%;
Â  Â  Â  Â  Â  Â  max-width: 400px;
Â  Â  Â  Â  Â  Â  padding: 1rem;
Â  Â  Â  Â  Â  Â  border-radius: 10px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes fadeInDown {
Â  Â  Â  Â  Â  Â  from { opacity: 0; transform: translate(-50%, -20px); }
Â  Â  Â  Â  Â  Â  to { opacity: 1; transform: translate(-50%, 0); }
Â  Â  Â  Â  }

Â  Â  Â  Â  /* --- ANÄ°MASYONLAR: LOBÄ° GÄ°RÄ°ÅÄ° VE BUTONLAR --- */
Â  Â  Â  Â  @keyframes screenFadeIn {
Â  Â  Â  Â  Â  Â  from { opacity: 0; transform: translateY(20px); }
Â  Â  Â  Â  Â  Â  to { opacity: 1; transform: translateY(0); }
Â  Â  Â  Â  }
Â  Â  Â  Â  #lobby.active, #waitScreen.active, #gameScreen.active {
Â  Â  Â  Â  Â  Â  animation: screenFadeIn 0.5s ease-out forwards;
Â  Â  Â  Â  }

Â  Â  Â  Â  @keyframes slideInUp {
Â  Â  Â  Â  Â  Â  from { opacity: 0; transform: translateY(20px); }
Â  Â  Â  Â  Â  Â  to { opacity: 1; transform: translateY(0); }
Â  Â  Â  Â  }
Â  Â  Â  Â  .animated-lobby-item {
Â  Â  Â  Â  Â  Â  opacity: 0;
Â  Â  Â  Â  Â  Â  animation: slideInUp 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .lobby-title { animation-delay: 0s; }
Â  Â  Â  Â  .lobby-subtitle { animation-delay: 0.1s; }
Â  Â  Â  Â  .rules-box { animation-delay: 0.2s; }
Â  Â  Â  Â  .input-username-container { animation-delay: 0.3s; }
Â  Â  Â  Â  .input-roomcode-container { animation-delay: 0.4s; }
Â  Â  Â  Â  
        /* BUTON ANÄ°MASYON SIRALAMASI */
Â  Â  Â  Â  #createRoomBtn { animation-delay: 0.5s; } /* Yeni buton 1 */
        #joinRoomBtn { animation-delay: 0.6s; } /* Yeni buton 2 */
        /* Eski #matchBtn kaldÄ±rÄ±ldÄ± */
Â  Â  Â  Â Â 
Â  Â  Â  Â  .btn { transition: transform 0.2s, box-shadow 0.2s; }
Â  Â  Â  Â  .btn:hover {
Â  Â  Â  Â  Â  Â  transform: translateY(-3px) scale(1.01);
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 20px rgba(66, 153, 225, 0.6);Â 
Â  Â  Â  Â  }
Â  Â  Â  Â  .btn:active {
Â  Â  Â  Â  Â  Â  transform: translateY(0) scale(0.98);
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Bekleme EkranÄ± (WaitScreen) iÃ§in dÃ¶nme animasyonu */
Â  Â  Â  Â  .wait-spinner {
Â  Â  Â  Â  Â  Â  font-size: 4rem; /* BÃ¼yÃ¼k spinner */
Â  Â  Â  Â  Â  Â  color: #63b3ed;
Â  Â  Â  Â  Â  Â  animation: spin 1.5s linear infinite;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes spin {
Â  Â  Â  Â  Â  Â  from { transform: rotate(0deg); }
Â  Â  Â  Â  Â  Â  to { transform: rotate(360deg); }
Â  Â  Â  Â  }

Â  Â  Â  Â  /* OYUN TAHTASI VE MOBÄ°L UYUMLULUK */
Â  Â  Â  Â  #gameScreen {
Â  Â  Â  Â  Â  Â  padding-top: env(safe-area-inset-top, 20px);
Â  Â  Â  Â  Â  Â  padding-bottom: env(safe-area-inset-bottom, 20px);
Â  Â  Â  Â  Â  Â  justify-content: flex-start; /* Ä°Ã§eriÄŸi Ã¼ste hizala */
Â  Â  Â  Â  }
Â  Â  Â  Â  #gameContent {
Â  Â  Â  Â  Â  Â  flex-grow: 1; /* Board'Ä±n mevcut alanÄ± doldurmasÄ±nÄ± saÄŸlar */
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  justify-content: center; /* Ä°Ã§indeki Ã¶ÄŸeleri ortala */
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  max-width: 100%; /* Mobil geniÅŸlik */
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  }

Â  Â  Â  Â  .memory-board {
Â  Â  Â  Â  Â  Â  display: grid;
Â  Â  Â  Â  Â  Â  gap: 10px; /* Daha fazla boÅŸluk */
Â  Â  Â  Â  Â  Â  padding: 10px 0;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  flex-grow: 1; /* Board'Ä±n dikeyde bÃ¼yÃ¼mesini saÄŸlar */
Â  Â  Â  Â  Â  Â  max-width: 400px; /* Max geniÅŸlik sÄ±nÄ±rlamasÄ± */
Â  Â  Â  Â  Â  Â  margin: 0 auto;
Â  Â  Â  Â  }
Â  Â  Â  Â  .card-container {
Â  Â  Â  Â  Â  Â  perspective: 1000px;Â 
Â  Â  Â  Â  Â  Â  aspect-ratio: 1;Â 
Â  Â  Â  Â  Â  Â  width: 100%; /* Esneklik */
Â  Â  Â  Â  }
Â  Â  Â  Â  .card {
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  border-radius: 12px; /* Daha yuvarlak kartlar */
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  Â  Â  position: relative;
Â  Â  Â  Â  Â  Â  transform-style: preserve-3d;
Â  Â  Â  Â  Â  Â  transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);Â 
Â  Â  Â  Â  Â  Â  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2); /* Daha belirgin gÃ¶lge */
Â  Â  Â  Â  }
Â  Â  Â  Â  .card.flipped {
Â  Â  Â  Â  Â  Â  transform: rotateY(180deg);
Â  Â  Â  Â  }
Â  Â  Â  Â  .card-face {
Â  Â  Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  height: 100%;
Â  Â  Â  Â  Â  Â  backface-visibility: hidden;Â 
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  border-radius: 12px;
Â  Â  Â  Â  Â  Â  font-size: 2rem; /* BÃ¼yÃ¼k emoji */
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  }
Â  Â  Â  Â  @media (min-width: 400px) {
Â  Â  Â  Â  Â  Â  .card-face { font-size: 2.5rem; }
Â  Â  Â  Â  }
Â  Â  Â  Â  .card-face.front {
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #4299e1, #63b3ed); /* Mavi gradient */
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  border: 4px solid #364052; /* Koyu kenarlÄ±k */
Â  Â  Â  Â  Â  Â  transform: rotateY(0deg);Â 
Â  Â  Â  Â  Â  Â  z-index: 2;
Â  Â  Â  Â  }
Â  Â  Â  Â  .card-face.back {
Â  Â  Â  Â  Â  Â  background: #e2e8f0; /* AÃ§Ä±k arka plan */
Â  Â  Â  Â  Â  Â  color: #2d3748; /* Koyu metin */
Â  Â  Â  Â  Â  Â  transform: rotateY(180deg);
Â  Â  Â  Â  Â  Â  z-index: 1;
Â  Â  Â  Â  }
Â  Â  Â  Â  .card.bomb-selected .card-face.front {
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #f56565, #e53e3e); /* KÄ±rmÄ±zÄ± gradient */
Â  Â  Â  Â  Â  Â  animation: pulse-red 0.5s infinite alternate;
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes pulse-red {
Â  Â  Â  Â  Â  Â  from { opacity: 1; }
Â  Â  Â  Â  Â  Â  to { opacity: 0.8; }
Â  Â  Â  Â  }
Â  Â  Â  Â  @keyframes vibrate {
Â  Â  Â  Â  Â  Â  0% { transform: translate(1px, 1px) rotate(0deg); }
Â  Â  Â  Â  Â  Â  20% { transform: translate(-1px, -2px) rotate(-1deg); }
Â  Â  Â  Â  Â  Â  40% { transform: translate(-3px, 0px) rotate(1deg); }
Â  Â  Â  Â  Â  Â  60% { transform: translate(3px, 2px) rotate(0deg); }
Â  Â  Â  Â  Â  Â  80% { transform: translate(1px, -1px) rotate(-1deg); }
Â  Â  Â  Â  Â  Â  100% { transform: translate(-1px, 2px) rotate(1deg); }
Â  Â  Â  Â  }
Â  Â  Â  Â  .vibrate {
Â  Â  Â  Â  Â  Â  animation: vibrate 0.1s linear infinite;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* Oyun Ä°Ã§i Durum EkranlarÄ± */
Â  Â  Â  Â  #gameScreen h1 {
Â  Â  Â  Â  Â  Â  color: #f7fafc; /* Beyaz baÅŸlÄ±k */
Â  Â  Â  Â  Â  Â  margin-bottom: 1rem;
Â  Â  Â  Â  }
Â  Â  Â  Â  #gameScreen .status-panel {
Â  Â  Â  Â  Â  Â  background: linear-gradient(135deg, #3182ce, #667eea); /* GÃ¼zel bir gradient */
Â  Â  Â  Â  Â  Â  color: #f7fafc;
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  padding: 1rem;
Â  Â  Â  Â  Â  Â  margin-bottom: 1rem;
Â  Â  Â  Â  Â  Â  box-shadow: 0 4px 15px rgba(0,0,0,0.3);
Â  Â  Â  Â  }
Â  Â  Â  Â  #turnStatus {
Â  Â  Â  Â  Â  Â  font-size: 1.8rem;
Â  Â  Â  Â  Â  Â  color: #f7fafc; /* Beyaz */
Â  Â  Â  Â  Â  Â  text-shadow: 0 2px 5px rgba(0,0,0,0.3);
Â  Â  Â  Â  }
Â  Â  Â  Â  #actionMessage {
Â  Â  Â  Â  Â  Â  color: #a0aec0; /* Gri ton */
Â  Â  Â  Â  Â  Â  font-size: 1rem;
Â  Â  Â  Â  Â  Â  margin-top: 0.5rem;
Â  Â  Â  Â  }
Â  Â  Â  Â  #roleStatus {
Â  Â  Â  Â  Â  Â  color: #cbd5e0;
Â  Â  Â  Â  Â  Â  background-color: #4a5568;
Â  Â  Â  Â  Â  Â  padding: 0.5rem 1rem;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  font-size: 0.85rem;
Â  Â  Â  Â  Â  Â  margin-bottom: 1rem;
Â  Â  Â  Â  }
Â  Â  Â  Â  #gameContent {
Â  Â  Â  Â  Â  Â  background-color: #2d3748; /* Koyu gri */
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 20px rgba(0,0,0,0.4);
Â  Â  Â  Â  Â  Â  padding: 1.5rem;
Â  Â  Â  Â  Â  Â  width: 100%; /* Tam geniÅŸlik */
Â  Â  Â  Â  Â  Â  max-width: 500px; /* Ortalama cihazlarda daha iyi gÃ¶rÃ¼nÃ¼m */
Â  Â  Â  Â  Â  Â  flex-grow: 1;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-direction: column;
Â  Â  Â  Â  Â  Â  justify-content: center; /* Ä°Ã§eriyi ortala */
Â  Â  Â  Â  }
Â  Â  Â  Â  #endGameBtn {
Â  Â  Â  Â  Â  Â  margin-top: 1.5rem;
Â  Â  Â  Â  Â  Â  background-color: #e53e3e;
Â  Â  Â  Â  Â  Â  color: white;
Â  Â  Â  Â  Â  Â  width: 80%; /* Daha dar */
Â  Â  Â  Â  Â  Â  max-width: 250px; /* Max geniÅŸlik */
Â  Â  Â  Â  }

Â  Â  Â  Â  /* BaÅŸlÄ±klar ve Metinler */
Â  Â  Â  Â  h1, h2 {
Â  Â  Â  Â  Â  Â  font-family: 'Poppins', sans-serif; /* Modern baÅŸlÄ±k fontu */
Â  Â  Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  Â  Â  color: #f7fafc;
Â  Â  Â  Â  }
Â  Â  Â  Â  p, label {
Â  Â  Â  Â  Â  Â  font-family: 'Inter', sans-serif;
Â  Â  Â  Â  Â  Â  color: #cbd5e0;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  </style>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Poppins:wght@700&family=Chakra+Petch:wght@700&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-900 select-none">
Â  Â  <div class="language-selector">
Â  Â  Â  Â  <button id="language-button" class="language-button" onclick="toggleLanguageSelector()">
Â  Â  Â  Â  Â  Â  <span id="current-language">ğŸ‡¦ğŸ‡¿ AZ</span>
Â  Â  Â  Â  Â  Â  <i class="fas fa-chevron-down"></i>
Â  Â  Â  Â  </button>
Â  Â  Â  Â  <div id="language-selector" class="language-options">
Â  Â  Â  Â  Â  Â  <div class="language-option" onclick="setLanguage('az')">ğŸ‡¦ğŸ‡¿ AzÉ™rbaycanca</div>
Â  Â  Â  Â  Â  Â  <div class="language-option" onclick="setLanguage('tr')">ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e</div>
Â  Â  Â  Â  Â  Â  <div class="language-option" onclick="setLanguage('en')">ğŸ‡¬ğŸ‡§ English</div>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <div id="globalMessage" class="hidden w-11/12 max-w-md p-4 bg-red-600 text-white rounded-lg shadow-lg">
Â  Â  Â  Â  <p id="globalMessageText"></p>
Â  Â  </div>

Â  Â  <div id="lobby" class="screen active space-y-6">
Â  Â  Â  Â  <h1 class="text-5xl font-black animated-lobby-item lobby-title">
Â  Â  Â  Â  Â  Â  ğŸ’£ Emoji BombasÄ±
Â  Â  Â  Â  </h1>
Â  Â  Â  Â  <p class="text-lg text-gray-400 animated-lobby-item lobby-subtitle">
Â  Â  Â  Â  Â  Â  1v1 Ã‡ox OyunÃ§ulu Bomba Oyunu
Â  Â  Â  Â  </p>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="bg-blue-800 bg-opacity-30 border-l-4 border-blue-500 text-blue-100 p-4 rounded-lg shadow-lg animated-lobby-item rules-box w-full max-w-md">
Â  Â  Â  Â  Â  Â  <p class="font-bold text-xl mb-3 text-white">ğŸ“‹ Oyun QaydalarÄ±:</p>
Â  Â  Â  Â  Â  Â  <ul class="list-disc list-inside mt-2 text-left space-y-2 text-lg">
Â  Â  Â  Â  Â  Â  Â  Â  <li>KartlarÄ± aÃ§araq rÉ™qibinizin bombalarÄ±ndan qaÃ§Ä±n.</li>
Â  Â  Â  Â  Â  Â  Â  Â  <li>HÉ™r kÉ™sin **3 canÄ±** var. Bombaya bassanÄ±z can itirirsiniz.</li>
Â  Â  Â  Â  Â  Â  Â  Â  <li>CanÄ± bitÉ™n oyunu uduzur!</li>
Â  Â  Â  Â  Â  Â  Â  Â  <li>BÃ¼tÃ¼n kartlar aÃ§Ä±larsa, yeni sÉ™viyyÉ™yÉ™ keÃ§irsiniz.</li>
Â  Â  Â  Â  Â  Â  </ul>
Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="w-full animated-lobby-item input-username-container max-w-md">
Â  Â  Â  Â  Â  Â  <p class="text-left text-base font-semibold mb-2 text-gray-300">
Â  Â  Â  Â  Â  Â  Â  Â  ğŸ‘¤ **1. Ä°stifadÉ™Ã§i AdÄ±nÄ±zÄ± Daxil Edin (Oyuncu AdÄ±):**
Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  <input type="text" id="username" class="input-field shadow-lg" placeholder="Oyuncu AdÄ± (min 2 herf)" maxlength="15">
Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div class="w-full animated-lobby-item input-roomcode-container max-w-md">
Â  Â  Â  Â  Â  Â  <p class="text-left text-base font-semibold mb-2 text-gray-300">
Â  Â  Â  Â  Â  Â  Â  Â  ğŸšª **2. Otaq Kodu:**
Â  Â  Â  Â  Â  Â  Â  Â  <span class="font-normal block text-sm mt-1">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  * Yeni otaq qurmaq Ã¼Ã§Ã¼n bu sahÉ™ni **BOÅ** buraxÄ±n.
Â  Â  Â  Â  Â  Â  Â  Â  </span>
Â  Â  Â  Â  Â  Â  Â  Â  <span class="font-normal block text-sm">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  * MÃ¶vcud otaÄŸa qoÅŸulmaq Ã¼Ã§Ã¼n dostunuzun verdiyi kodu buraya daxil edin.
Â  Â  Â  Â  Â  Â  Â  Â  </span>
Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  <input type="text" id="roomCodeInput" class="input-field uppercase shadow-lg" placeholder="Otaq Kodu (BoÅŸ: Yeni Otaq)" maxlength="6">
Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="w-full animated-lobby-item space-y-4 max-w-md">
            <button id="createRoomBtn" class="btn btn-primary shadow-xl">
Â  Â  Â  Â  Â  Â  Â  Â  <i class="fas fa-home mr-2"></i> **YENÄ° OTAQ QUR**
Â  Â  Â  Â  Â  Â  </button>
            <button id="joinRoomBtn" class="btn btn-primary shadow-xl">
Â  Â  Â  Â  Â  Â  Â  Â  <i class="fas fa-sign-in-alt mr-2"></i> **OTAÄA QOÅUL**
Â  Â  Â  Â  Â  Â  </button>
        </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <div id="waitScreen" class="screen space-y-8">
Â  Â  Â  Â  <div class="wait-spinner">
Â  Â  Â  Â  Â  Â  <i class="fas fa-spinner fa-spin"></i>Â 
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <h2 id="waitTitle" class="text-4xl font-bold">Otaq HazÄ±rlanÄ±r...</h2>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div id="codeArea" class="space-y-4 hidden w-full max-w-md">
Â  Â  Â  Â  Â  Â  <p class="text-lg text-gray-300">Otaq kodunuzu dostunuzla paylaÅŸÄ±n:</p>
Â  Â  Â  Â  Â  Â  <div id="roomCodeDisplay" class="code-display"></div>
Â  Â  Â  Â  Â  Â  <button id="copyCodeBtn" class="btn bg-gray-600 text-white text-base py-3 max-w-xs">Kodu Kopyala <i class="fas fa-copy ml-2"></i></button>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <p id="waitStatus" class="text-xl text-gray-300">RÉ™qib qoÅŸulmasÄ±nÄ± gÃ¶zlÉ™yirsiniz...</p>
Â  Â  Â  Â  <button id="cancelBtn" class="btn bg-red-600 text-base py-3 max-w-xs">LÉ™ÄŸv Et / Lobiye QayÄ±t <i class="fas fa-times-circle ml-2"></i></button>
Â  Â  </div>

Â  Â  <div id="gameScreen" class="screen space-y-4">
Â  Â  Â  Â  <h1 class="text-4xl font-black">ğŸ•¹ï¸ Emoji BombasÄ±</h1>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="flex justify-between items-center w-full text-gray-100 font-bold p-3 status-panel max-w-md">
Â  Â  Â  Â  Â  Â  <div class="text-center">
Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-sm text-blue-200">SÆN</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p id="myLives" class="text-3xl text-red-400">â¤ï¸â¤ï¸â¤ï¸</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="text-center">
Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-sm text-blue-200">VS</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p id="opponentName" class="text-xl text-blue-100 font-bold"></p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  <div class="text-center">
Â  Â  Â  Â  Â  Â  Â  Â  <p class="text-sm text-blue-200">RÆQÄ°B</p>
Â  Â  Â  Â  Â  Â  Â  Â  <p id="opponentLives" class="text-3xl text-red-400">â¤ï¸â¤ï¸â¤ï¸</p>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <p id="roleStatus" class="text-gray-300 text-xs bg-gray-700 p-2 rounded-lg"></p>

Â  Â  Â  Â  <div id="gameContent" class="bg-gray-800 rounded-xl w-full space-y-4 p-4 shadow-xl">
Â  Â  Â  Â  Â  Â  <h3 id="turnStatus" class="text-2xl font-bold text-red-400 animate-pulse">RÉ™qib gÃ¶zlÉ™nilir...</h3>
Â  Â  Â  Â  Â  Â  <p id="actionMessage" class="text-base text-blue-300 font-semibold"></p>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="gameBoard" class="grid w-full mx-auto">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <button id="endGameBtn" class="btn bg-red-600 hover:bg-red-500 text-white text-sm py-3">ğŸšª Oyundan Ã‡Ä±x <i class="fas fa-door-open ml-2"></i></button>
Â  Â  </div>

Â  Â  <script src="languages.js"></script>
Â  Â Â 
Â  Â  <script type="module">
Â  Â  Â  Â  import { setupSocketHandlers, showScreen, UIElements, showGlobalMessage } from './game.js';
Â  Â  Â  Â Â 
Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  Â  Â  Â  window.languageManager.initLanguage();
Â  Â  Â  Â  });
Â  Â  Â  Â Â 
Â  Â  Â  Â  window.toggleLanguageSelector = languageManager.toggleLanguageSelector;
Â  Â  Â  Â  window.setLanguage = languageManager.setLanguage;

Â  Â  Â  Â  // Render URL'niz: LÃ¼tfen bu kÄ±smÄ± KENDÄ° URL'nizle deÄŸiÅŸtirin!
Â  Â  Â  Â  const LIVE_SERVER_URL = 'https://beta-github-io.onrender.com';Â 
Â  Â  Â  Â  let socket;
Â  Â  Â  Â Â 
Â  Â  Â  Â  function validateInput(isJoin = false) {
Â  Â  Â  Â  Â  Â  const username = UIElements.usernameInput.value.trim();
            const roomCode = UIElements.roomCodeInput.value.trim().toUpperCase();

Â  Â  Â  Â  Â  Â  if (username.length < 2) {
Â  Â  Â  Â  Â  Â  Â  Â  UIElements.showGlobalMessage('ZÉ™hmÉ™t olmasa etibarlÄ± bir istifadÉ™Ã§i adÄ± daxil edin.', true);
Â  Â  Â  Â  Â  Â  Â  Â  return false;
Â  Â  Â  Â  Â  Â  }
            
            if (isJoin && roomCode.length === 0) {
                UIElements.showGlobalMessage('QoÅŸulmaq Ã¼Ã§Ã¼n otaq kodu daxil etmÉ™lisiniz.', true);
                return false;
            }

Â  Â  Â  Â  Â  Â  return username;
Â  Â  Â  Â  }

Â  Â  Â  Â  function connectToServer() {
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  socket = io(LIVE_SERVER_URL, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  transports: ['websocket', 'polling'],Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  reconnectionAttempts: 5,Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  timeout: 20000Â 
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  socket.on('connect', () => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  UIElements.showGlobalMessage('ServerÉ™ qoÅŸuldu. EÅŸleÅŸmÉ™yÉ™ hazÄ±rsÄ±nÄ±z.', false);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showScreen('lobby');
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  socket.on('connect_error', (err) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  console.error('BaÄŸlantÄ± HatasÄ±:', err);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  UIElements.showGlobalMessage('XÆTA: ServerÉ™ daxil olmaq mÃ¼mkÃ¼n deyil.', true);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showScreen('lobby');
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  socket.on('disconnect', () => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  UIElements.showGlobalMessage('BaÄŸlantÄ± kÉ™sildi. YenidÉ™n qoÅŸulmaÄŸa Ã§alÄ±ÅŸÄ±lÄ±r...', true);
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  Â  Â  // --- EÅŸleÅŸme OlaylarÄ± ---
Â  Â  Â  Â  Â  Â  Â  Â  socket.on('roomCreated', (code) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('roomCodeDisplay').textContent = code;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('waitTitle').textContent = 'OtaÄŸÄ±nÄ±z Quruldu! ğŸ‰';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('codeArea').classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  document.getElementById('waitStatus').textContent = 'Otaq kodunu dostunuza gÃ¶ndÉ™rin vÉ™ qoÅŸulmasÄ±nÄ± gÃ¶zlÉ™yin.';
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  socket.on('joinFailed', (message) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  UIElements.showGlobalMessage(message, true);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  showScreen('lobby');
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  socket.on('gameStart', ({ players, roomCode }) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const opponent = players.find(p => p.id !== socket.id);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const self = players.find(p => p.id === socket.id);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setupSocketHandlers(socket, roomCode, self.isHost, opponent.username);
Â  Â  Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  } catch (e) {
Â  Â  Â  Â  Â  Â  Â  Â  console.error('Socket.IO genel hatasÄ±:', e);
Â  Â  Â  Â  Â  Â  Â  Â  UIElements.showGlobalMessage('Kritik qoÅŸulma xÉ™tasÄ± baÅŸ verdi.', true);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  // --- Olay Dinleyicileri (Yeni Butonlar iÃ§in gÃ¼ncellendi) ---
Â  Â  Â  Â  
        // Yeni Otaq Qur Butonu
Â  Â  Â  Â  document.getElementById('createRoomBtn').addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  const username = validateInput(false);
Â  Â  Â  Â  Â  Â  if (!username) return;

Â  Â  Â  Â  Â  Â  showScreen('wait');
Â  Â  Â  Â  Â  Â  document.getElementById('waitTitle').textContent = 'Otaq Qurulur...';
Â  Â  Â  Â  Â  Â  document.getElementById('waitStatus').textContent = 'ZÉ™hmÉ™t olmasa gÃ¶zlÉ™yin...';
Â  Â  Â  Â  Â  Â  document.getElementById('codeArea').classList.add('hidden');
Â  Â  Â  Â  Â  Â  socket.emit('createRoom', { username });
Â  Â  Â  Â  });
        
        // OtaÄŸa QoÅŸul Butonu
        document.getElementById('joinRoomBtn').addEventListener('click', () => {
            const username = validateInput(true); // true: Otaq kodu boÅŸ olmamalÄ±
Â  Â  Â  Â  Â  Â  if (!username) return;
            
            const roomCode = UIElements.roomCodeInput.value.trim().toUpperCase();
            if (roomCode.length < 3) {
                UIElements.showGlobalMessage('Otaq kodu É™n az 3 simvol olmalÄ±dÄ±r.', true);
                return;
            }

            showScreen('wait');
Â  Â  Â  Â  Â  Â  document.getElementById('waitTitle').textContent = `OtaÄŸa QoÅŸulma: ${roomCode}`;
Â  Â  Â  Â  Â  Â  document.getElementById('waitStatus').textContent = 'QoÅŸulunur...';
Â  Â  Â  Â  Â  Â  document.getElementById('codeArea').classList.add('hidden');
Â  Â  Â  Â  Â  Â  socket.emit('joinRoom', { username, roomCode });
        });

Â  Â  Â  Â  document.getElementById('cancelBtn').addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  if (socket && socket.connected) {
Â  Â  Â  Â  Â  Â  Â  Â  socket.emit('leaveRoom', { roomCode: document.getElementById('roomCodeDisplay').textContent });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  UIElements.resetGame();
Â  Â  Â  Â  });
Â  Â  Â  Â Â 
Â  Â  Â  Â  document.getElementById('endGameBtn').addEventListener('click', UIElements.resetGame);
Â  Â  Â  Â Â 
Â  Â  Â  Â  document.getElementById('copyCodeBtn').addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  const textToCopy = document.getElementById('roomCodeDisplay').textContent;
Â  Â  Â  Â  Â  Â  navigator.clipboard.writeText(textToCopy)
Â  Â  Â  Â  Â  Â  Â  Â  .then(() => UIElements.showGlobalMessage('Otaq Kodu KopyalandÄ±!', false))
Â  Â  Â  Â  Â  Â  Â  Â  .catch(() => UIElements.showGlobalMessage('Kopyalama uÄŸursuz oldu.', true));
Â  Â  Â  Â  });

Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', connectToServer);
Â  Â  </script>
</body>
</html>
