<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>Domino 101 Pro</title>
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        body { 
            background-color: #1b4d3e;
            overflow: hidden; 
            touch-action: pan-x pan-y pinch-zoom;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }
        
        .pip-grid { display: grid; grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(3, 1fr); width: 100%; height: 100%; padding: 2px; }
        .pip { background-color: #111; border-radius: 50%; width: 6px; height: 6px; margin: auto; }
        
        .domino-tile {
            width: 60px;
            height: 120px;
            background: #fff;
            border: 2px solid #333;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .board-container {
            width: 100%;
            height: 50vh;
            overflow: auto;
            touch-action: pan-x pan-y pinch-zoom;
        }
        
        .hand-container {
            display: flex;
            justify-content: center;
            gap: 8px;
            padding: 10px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const tg = window.Telegram?.WebApp;
        if (tg) {
            tg.ready();
            tg.expand();
        }

        const API_URL = 'https://beta-github-io.onrender.com';

        // --- Bƒ∞LE≈ûENLER ---
        const RenderPips = ({ number }) => {
            const layouts = {
                0: [], 1: [4], 2: [0, 8], 3: [0, 4, 8],
                4: [0, 2, 6, 8], 5: [0, 2, 4, 6, 8], 6: [0, 2, 3, 5, 6, 8]
            };
            const activePips = layouts[number] || [];
            return (
                <div className="pip-grid">
                    {[...Array(9)].map((_, i) => (
                        <div key={i} className="pip" style={{ opacity: activePips.includes(i) ? 1 : 0 }}></div>
                    ))}
                </div>
            );
        };

        const DominoTile = ({ values, onClick, disabled, isSelected, isSmall = false }) => {
            return (
                <div 
                    onClick={onClick}
                    className={`domino-tile flex flex-col cursor-pointer transition-all duration-200
                        ${isSelected ? 'ring-2 ring-yellow-500 -translate-y-2' : ''}
                        ${disabled ? 'opacity-70' : 'hover:scale-105'}
                        ${isSmall ? 'scale-75' : ''}`}
                >
                    <div className="flex-1 flex items-center justify-center border-b border-gray-300">
                        <RenderPips number={values[0]} />
                    </div>
                    <div className="flex-1 flex items-center justify-center">
                        <RenderPips number={values[1]} />
                    </div>
                    <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full bg-gray-400"></div>
                </div>
            );
        };

        const Toast = ({ message, type }) => {
            return (
                <div className={`fixed top-4 left-1/2 -translate-x-1/2 z-50 px-6 py-2 rounded-full shadow-lg text-white font-medium text-sm animate-slide-up
                    ${type === 'success' ? 'bg-green-600' : type === 'error' ? 'bg-red-600' : 'bg-blue-600'}`}>
                    {message}
                </div>
            );
        };

        const Countdown = ({ onComplete }) => {
            const [count, setCount] = useState(3);
            
            useEffect(() => {
                if (count > 0) {
                    const timer = setTimeout(() => setCount(count - 1), 1000);
                    return () => clearTimeout(timer);
                } else {
                    onComplete();
                }
            }, [count, onComplete]);
            
            return (
                <div className="fixed inset-0 flex items-center justify-center bg-black/80 z-50">
                    <div className="text-center">
                        <div className="text-6xl font-bold text-yellow-400 animate-pulse">{count}</div>
                        <p className="text-white text-xl mt-4">Oyun Ba≈ülƒ±yor!</p>
                    </div>
                </div>
            );
        };

        // --- ANA OYUN ---
        const DominoGame = () => {
            const [screen, setScreen] = useState('loading');
            const [connected, setConnected] = useState(false);
            const [playerData, setPlayerData] = useState(null);
            const [roomCode, setRoomCode] = useState('');
            const [joinCode, setJoinCode] = useState('');
            const [gameState, setGameState] = useState(null);
            const [searchTime, setSearchTime] = useState(0);
            
            const [selectedTileIndex, setSelectedTileIndex] = useState(null);
            const [validMoves, setValidMoves] = useState([]);
            const [notification, setNotification] = useState(null);
            const [searching, setSearching] = useState(false);
            const [endInfo, setEndInfo] = useState(null);
            const [opponent, setOpponent] = useState(null);
            const [showCountdown, setShowCountdown] = useState(false);
            
            const wsRef = useRef(null);
            const boardRef = useRef(null);
            const searchTimerRef = useRef(null);
            const gameStartTimerRef = useRef(null);

            const showNotification = (msg, type = 'info') => {
                setNotification({ message: msg, type });
                setTimeout(() => setNotification(null), 3000);
            };

            const connectToServer = () => {
                const ws = new WebSocket('wss://beta-github-io.onrender.com');
                wsRef.current = ws;

                ws.onopen = () => {
                    setConnected(true);
                    showNotification('Sunucuya baƒülandƒ±', 'success');
                };
                
                ws.onclose = () => { 
                    setConnected(false); 
                    showNotification('Baƒülantƒ± kesildi', 'warning');
                    setTimeout(connectToServer, 3000);
                };
                
                ws.onmessage = (e) => {
                    try {
                        const data = JSON.parse(e.data);
                        handleServerMessage(data);
                    } catch(err) { console.error('Mesaj hatasƒ±:', err); }
                };
            };
            
            const sendMessage = (msg) => {
                if (wsRef.current?.readyState === WebSocket.OPEN) {
                    wsRef.current.send(JSON.stringify(msg));
                }
            };
            
            const handleServerMessage = (data) => {
                console.log('Server:', data.type);
                
                switch(data.type) {
                    case 'roomCreated':
                        setRoomCode(data.roomCode);
                        break;
                        
                    case 'searchCancelled':
                        showNotification('Arama iptal edildi', 'info');
                        setSearching(false);
                        setScreen('lobby');
                        clearInterval(searchTimerRef.current);
                        setSearchTime(0);
                        break;
                        
                    case 'matchFound':
                        showNotification('Rakip bulundu!', 'success');
                        setSearching(false);
                        setOpponent(data.opponent);
                        setScreen('match-found');
                        clearInterval(searchTimerRef.current);
                        setSearchTime(0);
                        
                        gameStartTimerRef.current = setTimeout(() => {
                            setShowCountdown(true);
                        }, 3000);
                        break;
                        
                    case 'gameStart':
                        setShowCountdown(false);
                        setGameState(data.gameState);
                        setScreen('game');
                        setSelectedTileIndex(null);
                        setValidMoves([]);
                        showNotification('Oyun ba≈üladƒ±!', 'success');
                        break;
                        
                    case 'gameUpdate':
                        if (data.gameState) {
                            setGameState(prev => ({
                                ...prev,
                                ...data.gameState
                            }));
                            setSelectedTileIndex(null);
                            setValidMoves([]);
                        }
                        break;
                        
                    case 'error':
                        showNotification(data.message, 'error');
                        break;
                        
                    case 'gameEnd':
                        const isWinner = data.winner === gameState?.playerId;
                        const isDraw = data.isDraw;
                        
                        let title = '';
                        let message = '';
                        
                        if (data.reason === 'leave') {
                            title = 'üéâ KAZANDINIZ!';
                            message = `${data.loserName} oyundan ayrƒ±ldƒ±. Kazandƒ±nƒ±z!`;
                        } else if (isDraw) {
                            title = '‚öñÔ∏è BERABERE';
                            message = 'Oyun berabere bitti!';
                        } else if (isWinner) {
                            title = 'üéâ KAZANDINIZ!';
                            message = `${data.winnerName === 'Beraberlik' ? '' : data.winnerName} kazandƒ±!`;
                        } else {
                            title = 'üòî KAYBETTƒ∞Nƒ∞Z';
                            message = `${data.winnerName} kazandƒ±!`;
                        }
                        
                        setEndInfo({
                            title,
                            message,
                            isRanked: data.isRanked,
                            eloChanges: data.eloChanges,
                            isWinner,
                            reason: data.reason
                        });
                        setScreen('end');
                        
                        setTimeout(() => {
                            setGameState(null);
                            setEndInfo(null);
                            setOpponent(null);
                            setScreen('lobby');
                        }, 5000);
                        break;
                        
                    case 'opponentDisconnected':
                        showNotification('Rakip baƒülantƒ±sƒ± koptu', 'warning');
                        break;
                }
            };
            
            useEffect(() => {
                // Auth
                const initializeAuth = async () => {
                    if (tg?.initDataUnsafe?.user) {
                        const user = tg.initDataUnsafe.user;
                        const telegramData = {
                            telegramId: user.id.toString(),
                            username: user.username || user.first_name,
                            firstName: user.first_name,
                            photoUrl: user.photo_url
                        };

                        try {
                            const response = await fetch(`${API_URL}/api/auth/telegram`, {
                                method: 'POST',
                                headers: { 'Content-Type': 'application/json' },
                                body: JSON.stringify(telegramData)
                            });
                            const data = await response.json();
                            if (data.success) {
                                setPlayerData(data.player);
                            }
                        } catch (error) {
                            console.error('Auth error:', error);
                        }
                    } else {
                        setPlayerData({
                            isGuest: true,
                            username: 'Guest' + Math.floor(Math.random() * 9999),
                            elo: 0,
                            level: 0
                        });
                    }
                    setScreen('lobby');
                };

                initializeAuth();
                connectToServer();
                
                return () => {
                    if (wsRef.current) wsRef.current.close();
                    clearInterval(searchTimerRef.current);
                    clearTimeout(gameStartTimerRef.current);
                };
            }, []);

            // Oyun mantƒ±ƒüƒ±
            const myPlayerId = gameState?.playerId;
            const isMyTurn = gameState?.currentPlayer === myPlayerId;
            const myHand = gameState?.players?.[myPlayerId]?.hand || [];
            const marketSize = gameState?.market?.length || 0;

            const calculateValidMoves = (tile) => {
                if (!gameState || gameState.board.length === 0) return ['start'];
                
                const board = gameState.board;
                const leftEnd = board[0][0];
                const rightEnd = board[board.length - 1][1];
                
                const moves = [];
                if (tile[0] === leftEnd || tile[1] === leftEnd) moves.push('left');
                if (tile[0] === rightEnd || tile[1] === rightEnd) moves.push('right');
                return moves;
            };
            
            const handleTileClick = (index, tile) => {
                if (!isMyTurn) return;
                
                if (selectedTileIndex === index) {
                    setSelectedTileIndex(null);
                    setValidMoves([]);
                    return;
                }
                
                const moves = calculateValidMoves(tile);
                if (moves.length > 0) {
                    setSelectedTileIndex(index);
                    setValidMoves(moves);
                } else {
                    showNotification('Bu ta≈ü ile oynayamazsƒ±n', 'warning');
                }
            };

            const playTile = (position) => {
                if (selectedTileIndex === null) return;
                
                sendMessage({
                    type: 'playTile',
                    tileIndex: selectedTileIndex,
                    position: position === 'start' ? 'left' : position
                });
                
                setSelectedTileIndex(null);
                setValidMoves([]);
            };

            const drawFromMarket = () => {
                if (!isMyTurn || marketSize === 0) return;
                
                const canPlayFromHand = myHand.some(tile => calculateValidMoves(tile).length > 0);
                if (gameState.board.length > 0 && canPlayFromHand) {
                    showNotification('Oynayabileceƒüin ta≈ü var!', 'warning');
                    return;
                }
                
                sendMessage({ type: 'drawFromMarket' });
            };

            const leaveGame = () => {
                if (window.confirm('Oyundan √ßƒ±kmak istediƒüinize emin misiniz?\nELO puanƒ± kaybedebilirsiniz.')) {
                    sendMessage({ type: 'leaveGame' });
                    setGameState(null);
                    setScreen('lobby');
                }
            };

            // --- RENDER ---
            if (screen === 'loading') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-purple-900 to-blue-900 flex items-center justify-center">
                        <div className="text-center">
                            <div className="w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
                            <p className="text-white text-xl">Y√ºkleniyor...</p>
                        </div>
                    </div>
                );
            }

            if (screen === 'searching') {
                const minutes = Math.floor(searchTime / 60);
                const seconds = searchTime % 60;
                
                return (
                    <div className="min-h-screen bg-gradient-to-br from-purple-900 to-blue-900 flex items-center justify-center p-6">
                        {notification && <Toast message={notification.message} type={notification.type} />}
                        
                        <div className="w-full max-w-md bg-white/10 backdrop-blur-xl rounded-3xl p-8 text-center">
                            <div className="w-32 h-32 mx-auto mb-6">
                                <div className="w-full h-full border-8 border-yellow-400/30 rounded-full"></div>
                                <div className="w-full h-full border-8 border-t-yellow-400 rounded-full animate-spin -mt-32"></div>
                            </div>
                            
                            <h2 className="text-white text-2xl font-bold mb-2">Rakip Aranƒ±yor...</h2>
                            <p className="text-white/70 mb-6">
                                {playerData?.isGuest ? 'üéÆ CASUAL MA√á' : '‚öîÔ∏è DERECELƒ∞ MA√á'}
                            </p>
                            
                            <div className="bg-black/30 rounded-xl p-4 mb-6">
                                <div className="text-white text-4xl font-mono">
                                    {minutes.toString().padStart(2, '0')}:{seconds.toString().padStart(2, '0')}
                                </div>
                            </div>
                            
                            <button
                                onClick={() => {
                                    setSearching(false);
                                    setScreen('lobby');
                                    clearInterval(searchTimerRef.current);
                                    sendMessage({ type: 'cancelSearch' });
                                }}
                                className="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-4 rounded-xl"
                            >
                                Aramayƒ± ƒ∞ptal Et
                            </button>
                        </div>
                    </div>
                );
            }

            if (screen === 'match-found') {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-purple-900 to-blue-900 flex items-center justify-center p-6">
                        {notification && <Toast message={notification.message} type={notification.type} />}
                        {showCountdown && <Countdown onComplete={() => setShowCountdown(false)} />}
                        
                        <div className="w-full max-w-md bg-white/10 backdrop-blur-xl rounded-3xl p-8 text-center">
                            <h2 className="text-3xl font-bold text-white mb-6">üéØ E≈ûLE≈ûME BULUNDU!</h2>
                            
                            <div className="flex justify-between items-center mb-8">
                                <div className="text-center">
                                    <div className="w-20 h-20 rounded-full bg-yellow-400 flex items-center justify-center mx-auto mb-2">
                                        <span className="text-2xl">üë§</span>
                                    </div>
                                    <div className="text-white font-bold">{playerData?.username}</div>
                                    <div className="text-yellow-400">{playerData?.elo} ELO</div>
                                </div>
                                
                                <div className="text-4xl text-white">‚öîÔ∏è</div>
                                
                                <div className="text-center">
                                    <div className="w-20 h-20 rounded-full bg-red-400 flex items-center justify-center mx-auto mb-2">
                                        <span className="text-2xl">üë§</span>
                                    </div>
                                    <div className="text-white font-bold">{opponent?.name || 'Rakip'}</div>
                                    <div className="text-red-400">{opponent?.elo || 0} ELO</div>
                                </div>
                            </div>
                            
                            <div className="bg-black/30 rounded-xl p-4">
                                <p className="text-white/80">Oyun ba≈ülamak i√ßin hazƒ±rlanƒ±yor...</p>
                            </div>
                        </div>
                    </div>
                );
            }

            if (screen === 'lobby') {
                return (
                    <div className="flex flex-col items-center justify-center min-h-screen p-6">
                        {notification && <Toast message={notification.message} type={notification.type} />}
                        
                        <div className="text-center mb-10">
                            <h1 className="text-5xl font-black text-white mb-2">üéØ DOMINO 101 üèÜ</h1>
                            <p className="text-gray-300">Profesyonel Online Oyun</p>
                        </div>

                        <div className="w-full max-w-sm bg-gray-900/90 rounded-2xl p-6 shadow-2xl">
                            {playerData && (
                                <div className="mb-6 text-center">
                                    <h2 className="text-white text-2xl font-bold">{playerData.username}</h2>
                                    {!playerData.isGuest && (
                                        <div className="flex justify-center gap-4 mt-2">
                                            <span className="bg-yellow-500 text-black px-3 py-1 rounded-full text-sm font-bold">
                                                LVL {playerData.level}
                                            </span>
                                            <span className="bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-bold">
                                                {playerData.elo} ELO
                                            </span>
                                        </div>
                                    )}
                                </div>
                            )}

                            <button 
                                onClick={() => {
                                    if(searching) return;
                                    setScreen('searching');
                                    setSearching(true);
                                    setSearchTime(0);
                                    searchTimerRef.current = setInterval(() => {
                                        setSearchTime(prev => prev + 1);
                                    }, 1000);
                                    sendMessage({ 
                                        type: 'findMatch', 
                                        ...playerData,
                                        playerName: playerData.username
                                    });
                                }}
                                disabled={!connected || searching}
                                className="w-full bg-yellow-500 hover:bg-yellow-600 disabled:opacity-50 text-white font-bold py-4 rounded-xl mb-4"
                            >
                                {playerData?.isGuest ? 'üéÆ MA√á ARA' : '‚öîÔ∏è DERECELƒ∞ MA√á ARA'}
                            </button>

                            <div className="flex items-center gap-2 my-4">
                                <div className="h-px bg-white/10 flex-1"></div>
                                <span className="text-xs text-gray-500">veya</span>
                                <div className="h-px bg-white/10 flex-1"></div>
                            </div>

                            <div className="grid grid-cols-2 gap-3">
                                <button 
                                    onClick={() => {
                                        sendMessage({ type: 'createRoom', ...playerData });
                                    }}
                                    className="bg-gray-800 hover:bg-gray-700 text-white py-3 rounded-xl text-sm font-semibold"
                                >
                                    üè† Oda Kur
                                </button>
                                <div className="relative">
                                    <input 
                                        value={joinCode}
                                        onChange={e => setJoinCode(e.target.value.toUpperCase())}
                                        placeholder="KOD"
                                        maxLength={4}
                                        className="w-full bg-gray-800 border border-gray-700 rounded-xl px-2 text-center text-white font-mono uppercase"
                                    />
                                    <button 
                                        onClick={() => sendMessage({ type: 'joinRoom', roomCode: joinCode, ...playerData })}
                                        className="absolute right-1 top-1 bottom-1 bg-yellow-500 text-white px-3 rounded-lg"
                                    >
                                        ‚ûî
                                    </button>
                                </div>
                            </div>

                            {roomCode && (
                                <div className="mt-4 p-4 bg-green-500/20 rounded-xl text-center">
                                    <p className="text-green-400 text-xs">ODA KODU</p>
                                    <p className="text-3xl font-mono text-white font-bold">{roomCode}</p>
                                    <p className="text-xs text-gray-400 mt-2">Arkada≈üƒ±n bekleniyor...</p>
                                </div>
                            )}
                        </div>
                    </div>
                );
            }

            if (screen === 'end' && endInfo) {
                return (
                    <div className="min-h-screen bg-gray-900 flex items-center justify-center p-6">
                        <div className="w-full max-w-sm bg-white/10 rounded-2xl p-8 text-center">
                            <h1 className={`text-4xl font-black mb-4 ${endInfo.isWinner ? 'text-green-400' : 'text-red-400'}`}>
                                {endInfo.title}
                            </h1>
                            
                            <p className="text-gray-300 text-lg mb-6">{endInfo.message}</p>
                            
                            {endInfo.isRanked && endInfo.eloChanges && (
                                <div className="mb-8">
                                    <h2 className="text-white text-xl font-bold mb-2">ELO DEƒûƒ∞≈ûƒ∞Mƒ∞</h2>
                                    <p className={`text-5xl font-extrabold ${endInfo.isWinner ? 'text-green-400' : 'text-red-400'}`}>
                                        {endInfo.isWinner ? '+' : ''}{endInfo.isWinner ? endInfo.eloChanges.winner : endInfo.eloChanges.loser}
                                    </p>
                                </div>
                            )}

                            <div className="p-4 bg-black/30 rounded-lg text-gray-400">
                                ‚è≥ Lobiye d√∂n√ºl√ºyor...
                            </div>
                        </div>
                    </div>
                );
            }

            if (screen === 'game' && gameState) {
                return (
                    <div className="fixed inset-0 flex flex-col h-full w-full bg-gray-900">
                        {notification && <Toast message={notification.message} type={notification.type} />}
                        
                        {/* √úst Panel */}
                        <div className="h-16 bg-gray-800 flex items-center justify-between px-4">
                            <div className="flex items-center gap-3">
                                <div className="w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center">
                                    <span className="text-xl">üë§</span>
                                </div>
                                <div>
                                    <div className="text-white text-sm font-bold">{opponent?.name || 'Rakip'}</div>
                                    <div className="text-xs text-gray-400">Ta≈ü: {Object.values(gameState.players).find(p => p.name === (opponent?.name || 'Rakip'))?.hand?.length || 0}</div>
                                </div>
                            </div>
                            <div className="text-center">
                                {isMyTurn ? (
                                    <div className="bg-yellow-500 text-black text-xs font-bold px-4 py-1 rounded-full animate-pulse">
                                        SENƒ∞N SIRAN
                                    </div>
                                ) : (
                                    <div className="text-gray-400 text-xs font-medium">Rakip Oynuyor...</div>
                                )}
                            </div>
                        </div>

                        {/* Board */}
                        <div className="flex-1 relative overflow-hidden">
                            <div 
                                ref={boardRef}
                                className="board-container"
                                onWheel={(e) => {
                                    if (boardRef.current) {
                                        boardRef.current.scrollLeft += e.deltaY;
                                    }
                                }}
                            >
                                <div className="flex items-center justify-center p-4 min-w-max">
                                    {gameState.board.length === 0 ? (
                                        <div className="text-white/30 text-xl font-bold">
                                            Ta≈ü se√ß ve ba≈üla
                                        </div>
                                    ) : (
                                        gameState.board.map((tile, i) => (
                                            <DominoTile 
                                                key={i} 
                                                values={tile} 
                                                disabled={true}
                                                isSmall={true}
                                            />
                                        ))
                                    )}

                                    {validMoves.includes('left') && selectedTileIndex !== null && gameState.board.length > 0 && (
                                        <div 
                                            className="ml-2 p-2 border-2 border-dashed border-yellow-400 rounded-lg cursor-pointer"
                                            onClick={() => playTile('left')}
                                        >
                                            <div className="text-yellow-400 text-sm">SOLA EKLE</div>
                                        </div>
                                    )}
                                    
                                    {validMoves.includes('right') && selectedTileIndex !== null && gameState.board.length > 0 && (
                                        <div 
                                            className="ml-2 p-2 border-2 border-dashed border-yellow-400 rounded-lg cursor-pointer"
                                            onClick={() => playTile('right')}
                                        >
                                            <div className="text-yellow-400 text-sm">SAƒûA EKLE</div>
                                        </div>
                                    )}

                                    {validMoves.includes('start') && selectedTileIndex !== null && (
                                        <div 
                                            className="p-4 border-2 border-dashed border-yellow-400 rounded-lg cursor-pointer"
                                            onClick={() => playTile('start')}
                                        >
                                            <div className="text-yellow-400 text-lg font-bold">OYUNA BA≈ûLA</div>
                                        </div>
                                    )}
                                </div>
                            </div>
                        </div>

                        {/* Alt Panel */}
                        <div className="bg-gray-800 pb-6 pt-2 px-2">
                            <div className="flex justify-between items-center px-4 mb-2">
                                <div className="text-white text-xs">
                                    Eliniz: {myHand.length} | Pazar: {marketSize}
                                </div>
                                <div className="flex gap-2">
                                    {isMyTurn && marketSize > 0 && (
                                        <button 
                                            onClick={drawFromMarket}
                                            className="bg-blue-500 text-white text-xs px-4 py-2 rounded-full font-bold"
                                        >
                                            üé≤ √áEK
                                        </button>
                                    )}
                                    <button
                                        onClick={leaveGame}
                                        className="bg-red-600 text-white text-xs px-4 py-2 rounded-full font-bold"
                                    >
                                        √áIK
                                    </button>
                                </div>
                            </div>

                            <div className="hand-container">
                                {myHand.map((tile, index) => (
                                    <DominoTile 
                                        key={index}
                                        values={tile}
                                        onClick={() => handleTileClick(index, tile)}
                                        disabled={!isMyTurn}
                                        isSelected={selectedTileIndex === index}
                                    />
                                ))}
                            </div>
                        </div>
                    </div>
                );
            }

            return null;
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<DominoGame />);
    </script>
</body>
</html>
